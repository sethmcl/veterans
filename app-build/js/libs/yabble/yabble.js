(function(globalEval){var Yabble=function(){throw"Synchronous require() is not supported."};Yabble.unit={};var _moduleRoot="",_modules,_callbacks,_fetchFunc,_timeoutLength=2e4,_mainProgram,head=document.getElementsByTagName("head")[0],hasOwnProperty=Object.prototype.hasOwnProperty;if(function(){for(var a in{hasOwnProperty:true}){return a}}()=="hasOwnProperty")var forIn=function(a,b,c){for(var d in a)hasOwnProperty.call(a,d)&&b.call(c,d)};else var ieBadProps=["isPrototypeOf","hasOwnProperty","toLocaleString","toString","valueOf"],forIn=function(a,b,c){for(var d in a)hasOwnProperty.call(a,d)&&b.call(c,d);for(var e=ieBadProps.length;e--;){var d=ieBadProps[e];hasOwnProperty.call(a,d)&&b.call(c,d)}};var indexOf=function(a,b){for(var c=a.length;c--;)if(a[c]==b)return c;return-1},removeWhere=function(a,b){var c=0;while(c<a.length)b.call(null,a[c],c)===!0?a.splice(c,1):c++},combinePaths=function(a,b){var c=a.split("/");b=b||"",b.length&&b.charAt(b.length-1)!="/"&&(b+="/");var d=b.split("/");d.pop();var e;while(e=c.shift()){if(e==".")continue;e==".."&&d.length&&d[d.length-1]!=".."?d.pop():d.push(e)}return d.join("/")},resolveModuleId=Yabble.unit.resolveModuleId=function(a,b){return a.charAt(0)!="."?a:combinePaths(a,b)},resolveModuleUri=function(a){return a.charAt(0)!="."?_moduleRoot+a+".js":this._resolveModuleId(a,_moduleRoot)+".js"},getModule=function(a){return hasOwnProperty.call(_modules,a)?_modules[a]:null},addCallback=function(a,b){_callbacks.push([a.slice(0),b])},ensureImpl=function(a,b,c){var d=[];for(var e=a.length;e--;){var f=resolveModuleId(a[e],c),g=getModule(f);areDeepDepsDefined(f)||d.push(f)}d.length?(addCallback(d,function(){b(createRequireFunc(c))}),queueModules(d)):setTimeout(function(){b(createRequireFunc(c))},0)},createRequireFunc=function(a){var b=function(b){var c=resolveModuleId(b,a),d=getModule(c);if(!d)throw"Module not loaded";if(d.error)throw"Error loading module";if(!d.exports){d.exports={};var e=c.substring(0,c.lastIndexOf("/")+1),f=d.injects,g=[];for(var h=0,i=f.length;h<i;h++)f[h]=="require"?g.push(createRequireFunc(e)):f[h]=="exports"?g.push(d.exports):f[h]=="module"&&g.push(d.module);d.factory.apply(null,g)}return d.exports};return b.ensure=function(b,c){ensureImpl(b,c,a)},_mainProgram!=null&&(b.main=getModule(_mainProgram).module),b},queueModules=function(a){for(var b=a.length;b--;){var c=a[b],d=getModule(c);d==null&&(d=_modules[c]={},_fetchFunc(c))}},areDeepDepsDefined=function(a){var b={},c=function(a){if(b[a]==1)return!0;b[a]=!0;var d=getModule(a);if(!d||!d.defined)return!1;var e=d.deps||[];for(var f=e.length;f--;)if(!c(e[f]))return!1;return!0};return c(a)},fireCallbacks=function(){var a=0;while(a<_callbacks.length){var b=_callbacks[a][0],c=_callbacks[a][1],d=0;while(d<b.length)areDeepDepsDefined(b[d])?b.splice(d,1):d++;b.length?a++:(_callbacks.splice(a,1),c!=null&&setTimeout(c,0))}},loadModuleByEval=_fetchFunc=function(a){var b,c=function(){var b=getModule(a);b.defined||(b.defined=b.error=!0,fireCallbacks())},d=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");d.open("GET",resolveModuleUri(a),!0),d.onreadystatechange=function(){if(d.readyState===4){clearTimeout(b);if(d.status==200){var e=d.responseText,f=determineShallowDependencies(e),g=a.substring(0,a.lastIndexOf("/")+1),h={};for(var i=f.length;i--;)f[i]=resolveModuleId(f[i],g);h[a]=globalEval("({fn: function(require, exports, module) {\r\n"+e+"\r\n}})").fn,Yabble.define(h,f)}else c()}},b=setTimeout(c,_timeoutLength),d.send(null)},determineShallowDependencies=Yabble.unit.determineShallowDependencies=function(moduleCode){var deps={},match,unique={},requireRegex=/(?:^|[^\w\$_.])require\s*\(\s*("[^"\\]*(?:\\.[^"\\]*)*"|'[^'\\]*(?:\\.[^'\\]*)*')\s*\)/g;while(match=requireRegex.exec(moduleCode)){var module=eval(match[1]);hasOwnProperty.call(deps,module)||(deps[module]=!0)}var ensureRegex=/(?:^|[^\w\$_.])require.ensure\s*\(\s*(\[("[^"\\]*(?:\\.[^"\\]*)*"|'[^'\\]*(?:\\.[^'\\]*)*'|\s*|,)*\])/g;while(match=ensureRegex.exec(moduleCode)){var moduleArray=eval(match[1]);for(var i=moduleArray.length;i--;){var module=moduleArray[i];delete deps[module]}}var depsArray=[];return forIn(deps,function(a){depsArray.push(a)}),depsArray},loadModuleByScript=function(a){var b=document.createElement("script");b.type="text/javascript",b.src=resolveModuleUri(a);var c=!!b.addEventListener,d,e=function(){g(!1)},f=function(){(c||b.readyState=="complete"||b.readyState=="loaded")&&g(getModule(a).defined)},g=function(g){clearTimeout(d),c?(b.removeEventListener("load",f,!1),b.removeEventListener("error",e,!1)):b.detachEvent("onreadystatechange",f);if(!g){var h=getModule(a);h.defined||(h.defined=h.error=!0,fireCallbacks())}};c?(b.addEventListener("load",f,!1),b.addEventListener("error",e,!1)):b.attachEvent("onreadystatechange",f),d=setTimeout(e,_timeoutLength),head.appendChild(b)},normalizeTransport=function(){var a={modules:[]},b=["require","exports","module"];if(typeof arguments[0]=="object"){a.deps=arguments[1]||[];var c=arguments[0];forIn(c,function(d){var e={id:d};typeof c[d]=="function"?(e.factory=c[d],e.injects=b):(e.factory=c[d].factory,e.injects=c[d].injects||b),a.modules.push(e)})}else a.deps=arguments[1].slice(0),removeWhere(a.deps,function(a){return indexOf(b,a)>=0}),a.modules.push({id:arguments[0],factory:arguments[2],injects:arguments[1]});return a};Yabble.setModuleRoot=function(a){if(!/^http(s?):\/\//.test(a)){var b=window.location.href;b=b.substr(0,b.lastIndexOf("/")+1),a=combinePaths(a,b)}a.length&&a.charAt(a.length-1)!="/"&&(a+="/"),_moduleRoot=a},Yabble.setTimeoutLength=function(a){_timeoutLength=a},Yabble.useScriptTags=function(){_fetchFunc=loadModuleByScript},Yabble.def=Yabble.define=function(){var a=normalizeTransport.apply(null,arguments),b=[],c=[],d=a.deps;for(var e=a.modules.length;e--;){var f=a.modules[e],g=f.id,h=getModule(g);h||(h=_modules[g]={}),h.module={id:g,uri:resolveModuleUri(g)},h.defined=!0,h.deps=d.slice(0),h.injects=f.injects,h.factory=f.factory,c.push(h)}for(var e=d.length;e--;){var g=d[e],h=getModule(g);(!h||!areDeepDepsDefined(g))&&b.push(g)}b.length&&setTimeout(function(){queueModules(b)},0),fireCallbacks()},Yabble.isKnown=function(a){return getModule(a)!=null},Yabble.isDefined=function(a){var b=getModule(a);return!!b&&!!b.defined},Yabble.ensure=function(a,b){ensureImpl(a,b,"")},Yabble.run=function(a,b){a=_mainProgram=resolveModuleId(a,""),Yabble.ensure([a],function(c){c(a),b!=null&&b()})},Yabble.reset=function(){_mainProgram=null,_modules={},_callbacks=[],Yabble.define({system:function(a,b,c){}})},Yabble.reset(),window.require=Yabble})(function(code){return(window.eval||eval)(code,null)})