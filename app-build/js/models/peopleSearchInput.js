define(function(a){var b=a("util/channel"),c=Backbone.Model.extend({defaults:{keywords:null,"first-name":null,"last-name":null,"company-name":null,"current-company":null,title:null,"current-title":null,"school-name":null,"current-school":null,"country-code":null,"postal-code":null,distance:null,start:null,count:null,sort:null,visibility:"full",facets:[],"cohorts-location":[],"cohorts-industry":[],"cohorts-network":[],"cohorts-language":[],"cohorts-current-company":[],"cohorts-past-company":[],"cohorts-school":[]},initialize:function(){_.bindAll(this,"addCohort","onAddBucket","onRemoveBucket"),b.sub("search","add-bucket",this.onAddBucket),b.sub("search","remove-bucket",this.onRemoveBucket)},onAddBucket:function(a){this.addCohort(a.data.facetCode,a.data.code)},onRemoveBucket:function(a){this.removeCohort(a.data.facetCode,a.data.code)},addCohort:function(a,b,c){var d="cohorts-"+a,e=this.get(d),f={};return e&&e.push&&e.indexOf(b)===-1&&(e.push(b),f[d]=e,f.start=0,this.set(f),c||this.trigger("change")),this},removeCohort:function(a,b,c){var d="cohorts-"+a,e=this.get(d),f={},g;return(g=e.indexOf(b))!==-1&&(e.splice(g,1),f[d]=e,f.start=0,this.set(f),c||this.trigger("change")),this},addFacets:function(a,b){var c="facets",d=this.get(c),e={},f=!1;return _.each(a,function(a){d.indexOf(a)===-1&&(d.push(a),f=!0)}),f&&(e[c]=d,this.set(e),b||this.trigger("change")),this},removeFacet:function(a,b){var c="facets",d=this.get(c),e={},f;return(f=d.indexOf(a))!==-1&&(d.splice(f,1),e[c]=d,this.set(e),b||this.trigger("change")),this}});return new c})